{"version":3,"sources":["services.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","phoneDetails","post","id","delete","put","PersonForm","setNewName","newName","setNewNumber","newNumber","handleSubmit","onSubmit","onChange","e","target","value","type","Filter","handleFilter","filterField","Persons","persons","filtered","deletePerson","map","person","name","number","onClick","Notification","message","error","className","App","useState","setPersons","setFiltered","setFilterField","notification","setNotification","setError","useEffect","Services","notificationHandler","msg","setTimeout","filter","toLowerCase","search","preventDefault","existingNote","find","window","confirm","updatedNote","updatedPersons","catch","err","status","concat","console","log","deletedData","newPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1063c64b.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getNumbers = () => axios.get(baseUrl).then((response) => response.data);\r\n\r\nconst addNumber = (phoneDetails) => {\r\n\treturn axios.post(baseUrl, phoneDetails).then((response) => response.data);\r\n};\r\n\r\nconst deleteNumber = (id) => {\r\n\treturn axios.delete(`${baseUrl}/${id}`).then((response) => response.data);\r\n};\r\n\r\nconst updateNumber = (phoneDetails) => {\r\n\treturn axios\r\n\t\t.put(`${baseUrl}/${phoneDetails.id}`, phoneDetails)\r\n\t\t.then((response) => response.data);\r\n};\r\n\r\nexport default { getNumbers, addNumber, deleteNumber, updateNumber };\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Services from './services';\r\nimport './index.css';\r\n\r\nconst PersonForm = ({\r\n\tsetNewName,\r\n\tnewName,\r\n\tsetNewNumber,\r\n\tnewNumber,\r\n\thandleSubmit,\r\n}) => {\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t<h2>Add new</h2>\r\n\t\t\t<div>\r\n\t\t\t\tname:{' '}\r\n\t\t\t\t<input onChange={(e) => setNewName(e.target.value)} value={newName} />\r\n\t\t\t\t<br />\r\n\t\t\t\tphone no:{' '}\r\n\t\t\t\t<input\r\n\t\t\t\t\tonChange={(e) => setNewNumber(e.target.value)}\r\n\t\t\t\t\tvalue={newNumber}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type=\"submit\">add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nconst Filter = ({ handleFilter, filterField }) => (\r\n\t<div>\r\n\t\tfilter shown with <input onChange={handleFilter} value={filterField} />\r\n\t</div>\r\n);\r\n\r\nconst Persons = ({ persons, filtered, filterField, deletePerson }) => (\r\n\t<ul>\r\n\t\t{(filterField === '' ? persons : filtered).map((person) => (\r\n\t\t\t<li key={person.name}>\r\n\t\t\t\t{person.name} - {person.number}\r\n\t\t\t\t<button onClick={() => deletePerson(person)}>delete</button>\r\n\t\t\t</li>\r\n\t\t))}\r\n\t</ul>\r\n);\r\n\r\nconst Notification = ({ message, error }) => {\r\n\tif (!message) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn <div className={error ? 'error' : 'success'}>{message}</div>;\r\n};\r\n\r\nconst App = () => {\r\n\tconst [persons, setPersons] = useState([]);\r\n\tconst [filtered, setFiltered] = useState(persons);\r\n\tconst [filterField, setFilterField] = useState('');\r\n\tconst [newName, setNewName] = useState('');\r\n\tconst [newNumber, setNewNumber] = useState('');\r\n\tconst [notification, setNotification] = useState('');\r\n\tconst [error, setError] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tServices.getNumbers().then((data) => {\r\n\t\t\tsetPersons(data);\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (!newName || !newNumber) return;\r\n\t\tconst existingNote = persons.find((value) => value.name === newName);\r\n\r\n\t\tif (existingNote) {\r\n\t\t\tlet confirmUpdate = window.confirm(\r\n\t\t\t\t`${newName} already exists, update phone number?`\r\n\t\t\t);\r\n\t\t\tif (confirmUpdate) {\r\n\t\t\t\tconst updatedNote = { ...existingNote, number: newNumber };\r\n\t\t\t\tServices.updateNumber(updatedNote)\r\n\t\t\t\t\t.then((data) => {\r\n\t\t\t\t\t\tlet updatedPersons = persons.map((person) =>\r\n\t\t\t\t\t\t\tperson.id !== updatedNote.id ? person : updatedNote\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tsetPersons(updatedPersons);\r\n\t\t\t\t\t\tsetNewName('');\r\n\t\t\t\t\t\tsetNewNumber('');\r\n\t\t\t\t\t\tnotificationHandler(`${updatedNote.name} updated successfully`);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response.status === 404) {\r\n\t\t\t\t\t\t\tnotificationHandler(\r\n\t\t\t\t\t\t\t\t`Information of ${newName} has already been removed from server`,\r\n\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} else if (err.response.status === 400) {\r\n\t\t\t\t\t\t\tnotificationHandler(err.response.data.error, true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tServices.addNumber({ name: newName, number: newNumber })\r\n\t\t\t.then((data) => {\r\n\t\t\t\tsetPersons(persons.concat(data));\r\n\t\t\t\tsetNewName('');\r\n\t\t\t\tsetNewNumber('');\r\n\t\t\t\tnotificationHandler(`${data.name} added successfully`);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err.response.data);\r\n\t\t\t\tnotificationHandler(err.response.data.error, true);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst notificationHandler = (msg, error = false) => {\r\n\t\tsetNotification(msg);\r\n\t\tif (error) {\r\n\t\t\tsetError(true);\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetError(false);\r\n\t\t\t\tsetNotification(null);\r\n\t\t\t}, 2000);\r\n\t\t} else {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetNotification(null);\r\n\t\t\t}, 2000);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleFilter = (e) => {\r\n\t\tsetFilterField(e.target.value);\r\n\t\tlet filter = persons.filter(\r\n\t\t\t(person) =>\r\n\t\t\t\tperson.name.toLowerCase().search(e.target.value.toLowerCase()) !== -1\r\n\t\t);\r\n\t\tsetFiltered(filter);\r\n\t};\r\n\r\n\tconst handleDelete = (data) => {\r\n\t\tlet confirm = window.confirm(`Delete ${data.name} ?`);\r\n\t\tif (confirm) {\r\n\t\t\tServices.deleteNumber(data.id)\r\n\t\t\t\t.then((deletedData) => {\r\n\t\t\t\t\tlet newPersons = persons.filter((person) => person.id !== data.id);\r\n\t\t\t\t\tsetPersons(newPersons);\r\n\t\t\t\t\tnotificationHandler(`${data.name} deleted successfully`);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tif (err.response.status === 404) {\r\n\t\t\t\t\t\tnotificationHandler(\r\n\t\t\t\t\t\t\t`Information of ${data.name} has already been removed from server`,\r\n\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Phonebook</h2>\r\n\t\t\t<Notification message={notification} error={error} />\r\n\t\t\t<Filter handleFilter={handleFilter} filterField={filterField} />\r\n\t\t\t<PersonForm\r\n\t\t\t\tsetNewName={setNewName}\r\n\t\t\t\tnewName={newName}\r\n\t\t\t\tsetNewNumber={setNewNumber}\r\n\t\t\t\tnewNumber={newNumber}\r\n\t\t\t\thandleSubmit={handleSubmit}\r\n\t\t\t/>\r\n\t\t\t<h2>Numbers</h2>\r\n\t\t\t<Persons\r\n\t\t\t\tfiltered={filtered}\r\n\t\t\t\tpersons={persons}\r\n\t\t\t\tfilterField={filterField}\r\n\t\t\t\tdeletePerson={handleDelete}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}